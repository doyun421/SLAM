# Loop Closure

https://www.robots.ox.ac.uk/~pnewman/papers/NewmanHoICRA05.pdf

Loop Closing with Visually Salient Features




### GPS
        The Global Positioning System (GPS) is a U.S.-owned utility that provides users
            with positioning, navigation, and timing (PNT) services. 
        This system consists of three segments:
            the space segment, the control segment, and the user segment.
        
        example : Time - 2023-11-08, Latitude - 34.69888, Longitude - 135.534146, Error - 1, Altitude - 64.00
        
### GPS Antenna

        purpose : collecting information of gps
        meaning : A GPS antenna is a device that receives radio signals from GPS satellites at varying frequencies. 
        The antenna expands the signals and converts them into electronic signals
        so that they can be interpreted by a GPS receiver. 
        The GPS receiver then uses these signals to give an accurate estimate of the receiver's location.

        GPS Antenna Splitter
                    A GPS splitter is a device that allows you to connect an antenna to two receivers simultaneously.
        GPS Antenna Input
                    The GPS antenna input is used for satellite radio and GPS.
        GPS Antenna Cable
                    GPS antenna cables, primarily coaxial cables, are wires used to transmit GPS signals 
                    from a GPS antenna to a GPS receiver.
        

        GPS Antenna Frequency

                        The antenna frequency is the number of wave cycles per second.
                        GPS signals are broadcast at sub-2 GHz frequencies 
                        by using the L-band of the radio frequency spectrum. 

                        Each GPS satellite uses two types of frequencies to transmit data,
                        L1 (1575.42 Mhz) and L2 (1227.60 MHz). 
        Are GPS Antennas Directional?
                No,  GPS antennas are usually omnidirectional. 
                This means that they can receive and transmit signals from and to different directions equally.


        GPS Antenna vs. Receiver

                        A GPS receiver is a device that locates multiple satellites,
                        calculates their distances from one another, and then calculates 
                        its own distance from those satellites. 
                        This process of triangulation is what makes GPS receivers so accurate.
                        The GPS antenna is responsible for converting and amplifying signals generated by the receiver, 
                        as well as interpreting signals from the satellite network.

                        Most GPS receivers include a small omnidirectional antenna.



                           a. The GPS antenna sends a signal to the satellites which the satellites then return. 
                           b. The signals are then processed by the receiver,
                           
                                b1) which will calculate the time of arrival 
                                (TOA; at what time the initial signal returned from the satellite network to the receiver) and 
                           
                                b2) time of flight (TOF; how long it took for the signal to return). 
                                Using this data as collected from multiple satellites, 
                                
                          c.  the receiver than calculates its distance from each of the satellites it has pinged,
                            triangulating its own current location.

### GNSS antenna

        GNSS : Global Navigation Satellite System

        Differences : GPS is traditionally refers to the North American global positioning system, or satellite positioning system. 
        GNSS is a term that refers to the International Multi-Constellation Satellite System. 
        So GNSS typically includes GPS, GLONASS, Baidu, Galileo, and any other constellation system.

### Galilleo (European) in GNSS 

        created by the European Union through the European Space Agency (ESA),
        operated by the European Union Agency for the Space Programme (EUSPA),
        [6] headquartered in Prague, Czechia,[7] with two ground operations centres in Fucino, Italy,
        and Oberpfaffenhofen, Germany.
        The €10 billion project[4][8] is named after the Italian astronomer Galileo Galilei.
        One of the aims of Galileo is to provide an independent
        high-precision positioning system so European political and military authorities do not have to rely on the US GPS, 
        or the Russian GLONASS systems, which could be disabled or degraded by their operators at any time.
        [9] The use of basic (lower-precision) Galileo services is free and open to everyone.


### RTK (cm accuracy)
       meaning : RTK is short for real-time kinematics.
       A GNSS receiver capable of RTK takes in the normal signals 
       from the Global Navigation Satellite Systems 
       along with a correction stream to achieve millimeter-level positional accuracy.


        Difference between Gps and RTK 
                Unlike traditional GPS systems, which rely on data from satellites alone,
                RTK GPS systems use additional data from a nearby base station
                to improve the accuracy of the GPS data. This can provide positioning data
                that is accurate to within centimeters, making it ideal for a wide range of applications.

        RTK corrections 
                Similar to most any GNSS receiver, a receiver capable of receiving RTK corrections takes GNSS location data from GPS (USA),
                GLONASS (Russia), Beidou (China), and Galileo (Europe) satellites. On top of these signals,
                
                an RTK receiver takes in an RTCM correction stream to calculate your location with 1cm accuracy in real time. 
                
                RTCM is technically just a government-created protocol that is now used to signify the bytes of 
                correction data related to GNSS timing anomalies. These bytes of data are what allow us to calculate down
                to millimeter-level accuracy.
                If you want a deeper dive into learning about RTK

        RTCM 
        paper about rtk : https://www.unoosa.org/documents/pdf/icg/2021/Tokyo2021/ICG_CSISTokyo_2021_10.pdf

        
           
### u-blox
        rtk gnss/gps cheap modem company

## Conclusion of GPS 
        name :   ZED - F9P module
                    ublox company
                    rtk in Korea
                    Gallileo GNSS
                  







## Lidar
### Lidar sensor data
        
        ![image](https://github.com/doyun421/SLAM/assets/73266189/e31ecbff-9533-4a3c-8c40-52181949f36b)
        dates/reak-time time/time consumption/angle/speed





Storing lidar data
            Originally, lidar data was only delivered in ASCII format. 
            With the massive size of lidar data collections, 
            a binary format called LAS was soon adopted to manage and standardize the way 
            in which lidar data was organized and disseminated.
            Now lidar data is commonly represented in LAS. 
            LAS is a more acceptable file format,
            because LAS files contain more information and,
            being binary, can be read by the importer more efficiently.

            


Q) why do we need additional gnss chip although we had lidar sensor which had a gps sensor in themselves?

        Lidar's Components
            A lidar instrument principally consists of
            
            1) a laser(source as transmitter)
            2) a scanner
            3) specialized GPS receiver
            4) INS (inertial navigation system) roll, pitch, and heading of the lidar system.
            
                    Airplanes and helicopters are the most commonly used platforms for acquiring lidar data over broad areas.
                    Two types of lidar are topographic and bathymetric. 
                    Topographic lidar typically uses a near-infrared laser to map the land,
                    while bathymetric lidar uses water-penetrating green light to also measure seafloor and riverbed elevations.

        
       

that uses laser light to densely sample the surface of the earth, producing highly accurate x,y,z measurements. 

### Gyroscope 
            ![image](https://github.com/doyun421/SLAM/assets/73266189/c648c69b-612b-4224-83ea-04a3e9da045b)

             Gyroscope Working Principle
                                            The working principle of a gyroscope is based on gravity. 
                                            It is explained as the product of angular momentum, 
                                            which is experienced by the torque on a disc 
                                            
                                            to produce a gyroscopic precession in the spinning wheel.
            
https://youtu.be/npo7Kgsfvt0




## Accelerometer


                        Accelerometers can measure changes in linear velocity. 
                        As most objects can move in three-dimensional space,
                        it is typical to use three accelerometers mounted orthogonally;
                        that is, the axis of each accelerometer is at 90 ° to the others. 
                        They are usually given the labels of X-axis, Y-axis and Z-axis.
                


                            Gyroscopes
                            
                            measure rotational velocity, and again,
                            as most objects are free to rotate in three-dimensional space,
                            using three gyroscope axes is typical. 
                            They are also mounted on the object orthogonally,
                            and aligned as best as possible with the three accelerometer axes.


                        
                          Acceleration = Speed / time
                          
                          Acceleration = ( distance / time ) / time
                        
                          Acceleration = distance / time2
                        
                          Acceleration = distance1 * time-2
                        
                        
                        
### How do accelerometers work
                                This equation is the theory behind accelerometers:
                                they measure acceleration not by calculating
                                how speed changes over time
                                but by measuring force.
                                How do they do that? 
                                Generally speaking, 
                                by sensing how much a mass presses on something when a force acts on it.

                                This is something we're all very familiar with when we're in cars. 
                                Imagine you're sitting in the back seat of a car,
                                happily minding your own business, and the driver accelerates suddenly
                                to pass a slow-moving truck. You feel yourself thumping back into the seat. 
                                Why? Because the car's acceleration makes it move forward suddenly.
                                You might think you move backward when a car accelerates forward,
                                but that's an illusion: really what you experience is the car trying 
                                to move off without you and your seat catching you up from behind!

                                The laws of motion tell us that your body tries
                                to keep going at a steady speed, but the seat is constantly
                                pushing into you with a force and making you accelerate instead. 
                                The more the car accelerates, the more force you feel from your seat—and
                                you really can feel it! Your brain and body work together 
                                to make a reasonably effective accelerometer:
                                the more force your body experiences, the more acceleration 
                                your brain registers from the difference between your body's movements 
                                and those of the car. (And it picks up useful clues from other sensations,
                                including the rate at which moving objects pass by the window,
                                the change in sound of the car's engine,
                                the noise of the air rushing past, and so on.)
                                Moment by moment, you sense changes in acceleration
                                from changes in sensations on your body, 
                                not by calculating how far you've traveled and how long it took.

                                And accelerometers work in broadly the same way.

                                Types of accelerometers
                                There are many different types of accelerometers. 
                                The mechanical ones are a bit like scaled-down versions of passengers 
                                sitting in cars shifting back and forth as forces act on them.
                                They have something like a mass attached to a spring suspended 
                                inside an outer casing. When they accelerate, the casing moves off
                                immediately but the mass lags behind and the spring stretches
                                with a force that corresponds to the acceleration. The distance the spring stretches
                                (which is proportional to the stretching force) can be used to measure the force and the acceleration in a variety of different ways.
                                Seismometers (used to measure earthquakes) work in broadly this way, using pens on heavy masses attached
                                to springs to register earthquake forces. When an earthquake strikes, it shakes the seismometer cabinet but the pen (attached to a mass)
                                takes longer to move, so it leaves a jerky trace on a paper chart.

###  How a mechanical accelerometer works.
                                Artwork: The basic concept of a mechanical accelerometer:
                                as the gray accelerometer box moves from side to side,
                                the mass (red blob) is briefly left behind. But the spring connecting it 
                                to the box (red zig-zag) soon pulls it back into position and, as it moves, it draws a trace (blue line) on the paper.

                                Alternative designs of accelerometers measure force not
                                by making a pen trace on paper but by generating electrical 
                                or magnetic signals. In piezoresistive accelerometers, 
                                the mass is attached to a potentiometer (variable resistor),
                                a bit like a volume control, which turns an electric current up or down
                                according to the size of the force acting on it
                                . Capacitors can also be used in accelerometers to measure force
                                in a similar way:
                                if a moving mass alters the distance between two metal plates,
                                measuring the change in their capacitance gives a measurement of the force that's acting.

                                https://www.explainthatstuff.com/accelerometers.html

                                
###   How does a MEMS accelerometer chip work?
                                The accelerometers you can find inside cellphones clearly
                                don't have gigantic masses bouncing up and down on springs—you'd never 
                                fit something so big and clumsy inside a phone! Instead,
                                cellphone accelerometers are based on tiny microchips 
                                with all their components chemically etched onto the surface of a piece of silicon. 
                                Technically, these are called MEMS accelerometers,
                                where "MEMS" stands for Micro Electro Mechanical Systems (MEMS).
                                It sounds pretty complex, but it just means a small electrical and mechanical device mounted on a handy silicon chip.


                                Here's a very simplified illustration of what you'd find in one of these semiconductor accelerometers, as they're also known:

                                Simplified illustration of a cantilever-based, capacitive semiconductor accelerometer.

                            (1) Right in the middle, 
                                we have a red electrode (electrical terminal) that has enough mass 
                                to move up and down very slightly when you move or tilt the accelerometer.
                                
                            (2) The electrode is supported by a tiny beam (cantilever) 
                                that's rigid enough to hold it but flexible enough to allow it to move.
                            (3) There's an electrical connection from the cantilever and 
                                electrode to the outside of the chip so it can be wired into a circuit.
                                
                            (4) Below the red electrode, and separated from it by an air gap, 
                                there's a second electrode (purple). 
                                The air gap between the two electrodes means the red and purple electrodes work together as a capacitor. 
                                As you move the accelerometer and the red electrode moves up and down,
                                the distance between the red and purple electrodes changes, and so does the capacitance between them.
                                We're talking about amazingly tiny distances here of a few millionths of a meter (µm, microns).
                                Small bits of insulation (shown as black lines) prevent the red electrode 
                                from making direct electrical contact with the purple one if the accelerometer experiences a really big force (a sudden jolt).
                                
                                
                                
                            (5) In exactly the same way, there's a blue electrode above the red electrode and another air gap 
                                making a second capacitor. 
                                As before, the distance between the blue and red electrodes (and the capacitance between them) changes 
                                as you move the accelerometer.
                                    
                            (6) The electrodes are connected to more electrical terminals at the edges of the chip, 
                                again, so it can be wired to a bigger circuit.
                                                                


